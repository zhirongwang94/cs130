{"ast":null,"code":"import _regeneratorRuntime from\"/Users/calvinyung/Desktop/Fall 2020/cs130/project/cs130/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/calvinyung/Desktop/Fall 2020/cs130/project/cs130/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/calvinyung/Desktop/Fall 2020/cs130/project/cs130/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/calvinyung/Desktop/Fall 2020/cs130/project/cs130/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/calvinyung/Desktop/Fall 2020/cs130/project/cs130/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/calvinyung/Desktop/Fall 2020/cs130/project/cs130/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import axios from'axios';import React from\"react\";import{IonCard,IonCardContent,IonCardHeader,IonCardSubtitle,IonCardTitle,IonContent,IonHeader,IonImg,IonPage,IonTitle,IonToolbar,IonBadge,IonItem,IonLabel,IonList,IonRouterLink}from\"@ionic/react\";var newsFeed=/*#__PURE__*/function(_React$Component){_inherits(newsFeed,_React$Component);var _super=_createSuper(newsFeed);function newsFeed(props){var _this;_classCallCheck(this,newsFeed);_this=_super.call(this,props);_this.cases=void 0;_this.deaths=void 0;_this.renderPosts=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,posts;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"hello world\");_context.next=3;return axios({url:\"https://gnews.io/api/v4/search?q=covid19&lang=en&country=us&token=75459139b9417d88389a866dda4a84cb\",method:'get'});case 3:res=_context.sent;posts=res.data.articles;_this.setState({Posts:posts.map(function(item,i){return/*#__PURE__*/React.createElement(IonCard,null,/*#__PURE__*/React.createElement(IonImg,{src:item.image}),/*#__PURE__*/React.createElement(IonCardHeader,null,/*#__PURE__*/React.createElement(IonCardTitle,null,/*#__PURE__*/React.createElement(IonRouterLink,{href:item.url},item.title)),/*#__PURE__*/React.createElement(IonCardSubtitle,null,item.description)),/*#__PURE__*/React.createElement(IonCardContent,null,item.content));})});// console.log(state)\n// console.log(\"hello world\")\ncase 6:case\"end\":return _context.stop();}}},_callee);}));_this.renderCases=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"hello world\");_context2.next=3;return axios({url:\"http://127.0.0.1:3313/feed/refresh?loc=Los+Angeles\",method:'get'});case 3:res=_context2.sent;_this.cases=res.data.cases;_this.deaths=res.data.deaths;console.log(res.data.cases);console.log(res.data.deaths);case 8:case\"end\":return _context2.stop();}}},_callee2);}));_this.state={Posts:''};_this.cases=0;_this.deaths=0;return _this;}_createClass(newsFeed,[{key:\"componentDidMount\",value:function componentDidMount(){this.renderPosts();this.renderCases();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(IonPage,null,/*#__PURE__*/React.createElement(IonHeader,null,/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(IonTitle,null,\"NewsFeed\"))),/*#__PURE__*/React.createElement(IonContent,null,/*#__PURE__*/React.createElement(IonList,null,/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,null,\"Current Cases\"),/*#__PURE__*/React.createElement(IonBadge,{color:\"warning\"},this.cases)),/*#__PURE__*/React.createElement(IonItem,null,/*#__PURE__*/React.createElement(IonLabel,null,\"Deaths\"),/*#__PURE__*/React.createElement(IonBadge,{color:\"danger\"},this.deaths))),this.state.Posts));}}]);return newsFeed;}(React.Component);export default newsFeed;","map":{"version":3,"sources":["/Users/calvinyung/Desktop/Fall 2020/cs130/project/cs130/src/pages/Tab2.tsx"],"names":["axios","React","IonCard","IonCardContent","IonCardHeader","IonCardSubtitle","IonCardTitle","IonContent","IonHeader","IonImg","IonPage","IonTitle","IonToolbar","IonBadge","IonItem","IonLabel","IonList","IonRouterLink","newsFeed","props","cases","deaths","renderPosts","console","log","url","method","res","posts","data","articles","setState","Posts","map","item","i","image","title","description","content","renderCases","state","Component"],"mappings":"igCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACIC,OADJ,CAEIC,cAFJ,CAGIC,aAHJ,CAIIC,eAJJ,CAKIC,YALJ,CAKkBC,UALlB,CAMIC,SANJ,CAOIC,MAPJ,CAQIC,OARJ,CAQaC,QARb,CAQuBC,UARvB,CASIC,QATJ,CAUIC,OAVJ,CAWIC,QAXJ,CAaIC,OAbJ,CAcIC,aAdJ,KAeO,cAfP,C,GAiBMC,CAAAA,Q,gHAGF,kBAAYC,KAAZ,CAAkB,0CACd,uBAAMA,KAAN,EADc,MAFlBC,KAEkB,cADlBC,MACkB,cAMlBC,WANkB,sEAMJ,iJACVC,OAAO,CAACC,GAAR,CAAY,aAAZ,EADU,sBAEMxB,CAAAA,KAAK,CAAC,CAACyB,GAAG,CAAE,oGAAN,CAClBC,MAAM,CAAE,KADU,CAAD,CAFX,QAENC,GAFM,eAINC,KAJM,CAIED,GAAG,CAACE,IAAJ,CAASC,QAJX,CAKV,MAAKC,QAAL,CAAc,CACVC,KAAK,CAAEJ,KAAK,CAACK,GAAN,CAAU,SAACC,IAAD,CAAOC,CAAP,qBACb,oBAAC,OAAD,mBACI,oBAAC,MAAD,EAAQ,GAAG,CAAED,IAAI,CAACE,KAAlB,EADJ,cAEI,oBAAC,aAAD,mBACI,oBAAC,YAAD,mBAAc,oBAAC,aAAD,EAAe,IAAI,CAAEF,IAAI,CAACT,GAA1B,EAAgCS,IAAI,CAACG,KAArC,CAAd,CADJ,cAEI,oBAAC,eAAD,MAAkBH,IAAI,CAACI,WAAvB,CAFJ,CAFJ,cAMI,oBAAC,cAAD,MACKJ,IAAI,CAACK,OADV,CANJ,CADa,EAAV,CADG,CAAd,EAcA;AACA;AApBU,sDANI,SA4BlBC,WA5BkB,sEA4BJ,gJACVjB,OAAO,CAACC,GAAR,CAAY,aAAZ,EADU,uBAEMxB,CAAAA,KAAK,CAAC,CAACyB,GAAG,CAAE,oDAAN,CAClBC,MAAM,CAAE,KADU,CAAD,CAFX,QAENC,GAFM,gBAIV,MAAKP,KAAL,CAAaO,GAAG,CAACE,IAAJ,CAAST,KAAtB,CACA,MAAKC,MAAL,CAAcM,GAAG,CAACE,IAAJ,CAASR,MAAvB,CACAE,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACE,IAAJ,CAAST,KAArB,EACAG,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACE,IAAJ,CAASR,MAArB,EAPU,wDA5BI,GAEd,MAAKoB,KAAL,CAAa,CAACT,KAAK,CAAC,EAAP,CAAb,CACA,MAAKZ,KAAL,CAAa,CAAb,CACA,MAAKC,MAAL,CAAc,CAAd,CAJc,aAKjB,C,kFAgCmB,CAChB,KAAKC,WAAL,GACA,KAAKkB,WAAL,GACH,C,uCACQ,CACL,mBACI,oBAAC,OAAD,mBACI,oBAAC,SAAD,mBACI,oBAAC,UAAD,mBACI,oBAAC,QAAD,iBADJ,CADJ,CADJ,cAOI,oBAAC,UAAD,mBACI,oBAAC,OAAD,mBACI,oBAAC,OAAD,mBACI,oBAAC,QAAD,sBADJ,cAEI,oBAAC,QAAD,EAAU,KAAK,CAAC,SAAhB,EAA4B,KAAKpB,KAAjC,CAFJ,CADJ,cAKI,oBAAC,OAAD,mBACI,oBAAC,QAAD,eADJ,cAEI,oBAAC,QAAD,EAAU,KAAK,CAAC,QAAhB,EAA2B,KAAKC,MAAhC,CAFJ,CALJ,CADJ,CAWK,KAAKoB,KAAL,CAAWT,KAXhB,CAPJ,CADJ,CAuBH,C,sBApEkB/B,KAAK,CAACyC,S,EAuE7B,cAAexB,CAAAA,QAAf","sourcesContent":["import axios from 'axios';\nimport React from \"react\";\nimport {\n    IonCard,\n    IonCardContent,\n    IonCardHeader,\n    IonCardSubtitle,\n    IonCardTitle, IonContent,\n    IonHeader,\n    IonImg,\n    IonPage, IonTitle, IonToolbar,\n    IonBadge,\n    IonItem,\n    IonLabel,\n    IonListHeader,\n    IonList,\n    IonRouterLink\n} from \"@ionic/react\";\n\nclass newsFeed extends React.Component<{}, { Posts: string}>{\n    cases: number\n    deaths: number\n    constructor(props){\n        super(props);\n        this.state = {Posts:''};\n        this.cases = 0;\n        this.deaths = 0;\n    }\n    renderPosts = async() => {\n        console.log(\"hello world\")\n        let res = await axios({url: \"https://gnews.io/api/v4/search?q=covid19&lang=en&country=us&token=75459139b9417d88389a866dda4a84cb\",\n            method: 'get'});\n        let posts = res.data.articles;\n        this.setState({\n            Posts: posts.map((item, i) => (\n                <IonCard>\n                    <IonImg src={item.image}/>\n                    <IonCardHeader>\n                        <IonCardTitle><IonRouterLink href={item.url}>{item.title}</IonRouterLink></IonCardTitle>\n                        <IonCardSubtitle>{item.description}</IonCardSubtitle>\n                    </IonCardHeader>\n                    <IonCardContent>\n                        {item.content}\n                    </IonCardContent>\n                </IonCard>\n            ))\n        });\n        // console.log(state)\n        // console.log(\"hello world\")\n    }\n    renderCases = async() => {\n        console.log(\"hello world\")\n        let res = await axios({url: \"http://127.0.0.1:3313/feed/refresh?loc=Los+Angeles\",\n            method: 'get'});\n        this.cases = res.data.cases;\n        this.deaths = res.data.deaths;\n        console.log(res.data.cases);\n        console.log(res.data.deaths);\n    }\n    componentDidMount() {\n        this.renderPosts();\n        this.renderCases();\n    }\n    render() {\n        return (\n            <IonPage>\n                <IonHeader>\n                    <IonToolbar>\n                        <IonTitle>NewsFeed</IonTitle>\n                    </IonToolbar>\n                </IonHeader>\n\n                <IonContent>\n                    <IonList>\n                        <IonItem>\n                            <IonLabel>Current Cases</IonLabel>\n                            <IonBadge color=\"warning\" >{this.cases}</IonBadge>\n                        </IonItem>\n                        <IonItem>\n                            <IonLabel>Deaths</IonLabel>\n                            <IonBadge color=\"danger\" >{this.deaths}</IonBadge>\n                        </IonItem>\n                    </IonList>\n                    {this.state.Posts}\n                </IonContent>\n            </IonPage>\n        );\n    }\n}\n\nexport default newsFeed;\n\n"]},"metadata":{},"sourceType":"module"}