{"ast":null,"code":"import _regeneratorRuntime from\"/Users/calvinyung/Desktop/Fall 2020/cs130/project/cs130/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/calvinyung/Desktop/Fall 2020/cs130/project/cs130/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{IonContent,IonHeader,IonPage,IonTitle,IonToolbar,IonButton,IonInput}from'@ionic/react';import{useForm}from\"react-hook-form\";import{useHistory}from'react-router-dom';import firebase from'../Firebase';import{Plugins,Geolocation}from'@capacitor/core';var App=Plugins.App;function getPosition(){return _getPosition.apply(this,arguments);}function _getPosition(){_getPosition=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var coordinates;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return Geolocation.getCurrentPosition();case 2:coordinates=_context.sent;console.log(\"Current position\",coordinates);return _context.abrupt(\"return\",coordinates['coords']);case 5:case\"end\":return _context.stop();}}},_callee);}));return _getPosition.apply(this,arguments);}var Login=function Login(){var history=useHistory();var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var goBack=function goBack(){history.push('/OnOpen');};var onSubmit=function onSubmit(data){firebase.auth().signInWithEmailAndPassword(data.e,data.p).then(function(user){console.log(user);}).then(function(){history.push('/Tab1');}).catch(function(error){return console.log(error);});};return/*#__PURE__*/React.createElement(IonPage,null,/*#__PURE__*/React.createElement(IonHeader,null,/*#__PURE__*/React.createElement(IonToolbar,null,/*#__PURE__*/React.createElement(IonTitle,{size:\"large\"},\"Login\"))),/*#__PURE__*/React.createElement(IonContent,{className:\"page\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(\"label\",null,\"Email:\"),/*#__PURE__*/React.createElement(IonInput,{required:true,type:\"email\",id:\"e\",name:\"e\",ref:register}),/*#__PURE__*/React.createElement(\"label\",null,\"Password:\"),/*#__PURE__*/React.createElement(IonInput,{required:true,type:\"password\",id:\"p\",name:\"p\",ref:register}),/*#__PURE__*/React.createElement(IonButton,{\"justify-content\":\"center\",expand:\"block\",shape:\"round\",color:\"dark\",fill:\"solid\",type:\"submit\"},\"Sign In\"),/*#__PURE__*/React.createElement(IonButton,{expand:\"block\",shape:\"round\",color:\"dark\",fill:\"solid\",onClick:goBack},\"Back\"))));};export default Login;","map":{"version":3,"sources":["/Users/calvinyung/Desktop/Fall 2020/cs130/project/cs130/src/pages/Login.tsx"],"names":["React","IonContent","IonHeader","IonPage","IonTitle","IonToolbar","IonButton","IonInput","useForm","useHistory","firebase","Plugins","Geolocation","App","getPosition","getCurrentPosition","coordinates","console","log","Login","history","register","handleSubmit","goBack","push","onSubmit","data","auth","signInWithEmailAndPassword","e","p","then","user","catch","error"],"mappings":"yVAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CACEC,SADF,CAEEC,OAFF,CAGEC,QAHF,CAIEC,UAJF,CAKEC,SALF,CAMEC,QANF,KAO6B,cAP7B,CASA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAAQC,UAAR,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,aAArB,CACA,OAASC,OAAT,CAA4BC,WAA5B,KAA+C,iBAA/C,C,GACQC,CAAAA,G,CAAQF,O,CAARE,G,SAQOC,CAAAA,W,2IAAf,yKAC4BF,CAAAA,WAAW,CAACG,kBAAZ,EAD5B,QACQC,WADR,eAEEC,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCF,WAAhC,EAFF,gCAGSA,WAAW,CAAC,QAAD,CAHpB,wD,8CAMA,GAAMG,CAAAA,KAAe,CAAG,QAAlBA,CAAAA,KAAkB,EAAM,CAC5B,GAAMC,CAAAA,OAAO,CAAGX,UAAU,EAA1B,CAD4B,aAEKD,OAAO,EAFZ,CAErBa,QAFqB,UAErBA,QAFqB,CAEXC,YAFW,UAEXA,YAFW,CAG5B,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnBH,OAAO,CAACI,IAAR,CAAa,SAAb,EACD,CAFD,CAIA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAkB,CACjChB,QAAQ,CAACiB,IAAT,GAAgBC,0BAAhB,CAA2CF,IAAI,CAACG,CAAhD,CAAmDH,IAAI,CAACI,CAAxD,EACCC,IADD,CACM,SAACC,IAAD,CAAY,CAChBf,OAAO,CAACC,GAAR,CAAYc,IAAZ,EACD,CAHD,EAGGD,IAHH,CAGQ,UAAI,CACVX,OAAO,CAACI,IAAR,CAAa,OAAb,EACD,CALD,EAMCS,KAND,CAMO,SAACC,KAAD,QAAWjB,CAAAA,OAAO,CAACC,GAAR,CAAYgB,KAAZ,CAAX,EANP,EAOD,CARD,CAUA,mBACE,oBAAC,OAAD,mBACA,oBAAC,SAAD,mBACA,oBAAC,UAAD,mBACM,oBAAC,QAAD,EAAU,IAAI,CAAC,OAAf,UADN,CADA,CADA,cAME,oBAAC,UAAD,EAAY,SAAS,CAAC,MAAtB,eACA,4BAAM,QAAQ,CAAEZ,YAAY,CAACG,QAAD,CAA5B,eACE,0CADF,cAEI,oBAAC,QAAD,EACA,QAAQ,CAAE,IADV,CAEA,IAAI,CAAC,OAFL,CAGA,EAAE,CAAC,GAHH,CAIA,IAAI,CAAC,GAJL,CAKA,GAAG,CAAEJ,QALL,EAFJ,cASE,6CATF,cAUI,oBAAC,QAAD,EACA,QAAQ,CAAE,IADV,CAEA,IAAI,CAAC,UAFL,CAGA,EAAE,CAAC,GAHH,CAIA,IAAI,CAAC,GAJL,CAKA,GAAG,CAAEA,QALL,EAVJ,cAiBE,oBAAC,SAAD,EAAW,kBAAgB,QAA3B,CAAoC,MAAM,CAAC,OAA3C,CAAmD,KAAK,CAAC,OAAzD,CAAkE,KAAK,CAAC,MAAxE,CAA+E,IAAI,CAAC,OAApF,CAA4F,IAAI,CAAC,QAAjG,YAjBF,cAkBE,oBAAC,SAAD,EAAW,MAAM,CAAC,OAAlB,CAA0B,KAAK,CAAC,OAAhC,CAAyC,KAAK,CAAC,MAA/C,CAAsD,IAAI,CAAC,OAA3D,CAAmE,OAAO,CAAEE,MAA5E,SAlBF,CADA,CANF,CADF,CA+BD,CAhDD,CAkDA,cAAeJ,CAAAA,KAAf","sourcesContent":["import React from 'react';\nimport { IonContent, \n  IonHeader, \n  IonPage, \n  IonTitle, \n  IonToolbar, \n  IonButton, \n  IonInput,\n  useIonViewWillEnter } from '@ionic/react';\nimport ExploreContainer from '../components/ExploreContainer';\nimport { useForm } from \"react-hook-form\"\nimport {useHistory} from 'react-router-dom'\nimport firebase from '../Firebase'\nimport { Plugins, AppState, Geolocation } from '@capacitor/core';\nconst { App } = Plugins;\n\n\ntype SignIn = {\n  e: string;\n  p: string;\n}\n\nasync function getPosition() {\n  const coordinates = await Geolocation.getCurrentPosition();\n  console.log(\"Current position\", coordinates);\n  return coordinates['coords'];\n}\n\nconst Login: React.FC = () => {\n  const history = useHistory()\n  const {register, handleSubmit} = useForm<SignIn>();\n  const goBack = () => {\n    history.push('/OnOpen')\n  }\n\n  const onSubmit = (data: SignIn) => {\n    firebase.auth().signInWithEmailAndPassword(data.e, data.p)\n    .then((user:any)=>{\n      console.log(user);\n    }).then(()=>{\n      history.push('/Tab1')\n    })\n    .catch((error) => console.log(error))\n  };\n\n  return (\n    <IonPage>\n    <IonHeader>\n    <IonToolbar>\n          <IonTitle size=\"large\">Login</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"page\">\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <label>Email:</label>\n          <IonInput\n          required={true}\n          type=\"email\"\n          id=\"e\"\n          name=\"e\"\n          ref={register}\n          />\n        <label>Password:</label>\n          <IonInput\n          required={true}\n          type=\"password\"\n          id=\"p\"\n          name=\"p\"\n          ref={register}\n          />\n        <IonButton justify-content='center' expand=\"block\" shape=\"round\"  color=\"dark\" fill=\"solid\" type=\"submit\">Sign In</IonButton>\n        <IonButton expand=\"block\" shape=\"round\"  color=\"dark\" fill=\"solid\" onClick={goBack}>Back</IonButton>\n        </form>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}