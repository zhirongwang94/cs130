{"ast":null,"code":"import { Plugins } from \"@capacitor/core\";\nconst {\n  Contacts\n} = Plugins;\nexport default class ContactTracing {\n  constructor() {\n    this.cts = [];\n  }\n\n  sendMessage() {\n    this.loadContacts(this.cts); //this.sendSms();\n  }\n\n  onSuccess(contacts) {\n    console.log(contacts.length + ' contacts found');\n\n    for (var i = 0; i < contacts.length; i++) {\n      console.log(contacts[i].contactId + \" - \" + contacts[i].displayName);\n\n      for (var j = 0; j < contacts[i].phoneNumbers.length; j++) {\n        var phone = contacts[i].phoneNumbers[j];\n        console.log(\"===> \" + phone + \"\\n\");\n      }\n    }\n  }\n\n  onError(error) {\n    console.log(\"Error grabbing contacts! \" + error);\n  }\n\n  async loadContacts(contacts) {\n    Contacts.getContacts().then(results => {\n      contacts = results.contacts;\n\n      for (const contact of results.contacts) {\n        console.log(contact);\n      }\n    });\n    console.log(\"Contacts Loaded! \\n\");\n  } // sendSms(){\n  //   var message:String = \"\";\n  //   message += \"------------------------------\\nIF EXPERIENCING SEEK IMMEDIATE MEDICAL ATTENTION!\\n\";\n  //   for(var index in emergencyList){\n  //     if(emergencyList[index].isChecked){\n  //       message += emergencyList[index].val + \"\\n\";\n  //     }\n  //   }\n  //   message += \"------------------------------\\nNon-Emergency Symptoms:\\n\";\n  //   for(var index in symptomList){\n  //     if(symptomList[index].isChecked){\n  //       message += symptomList[index].val + \"\\n\";\n  //     }\n  //   }\n  //   alert(\"Symptoms List \\n\" + message);\n  //   SMS.send('5167120628', \"test sms\");\n  //   alert(\"sendSms was called!\");\n  // }\n\n\n}","map":{"version":3,"sources":["/Users/calvinyung/Desktop/Fall 2020/cs130/project/cs130/src/pages/ContactTracing.tsx"],"names":["Plugins","Contacts","ContactTracing","cts","sendMessage","loadContacts","onSuccess","contacts","console","log","length","i","contactId","displayName","j","phoneNumbers","phone","onError","error","getContacts","then","results","contact"],"mappings":"AACA,SAASA,OAAT,QAAwB,iBAAxB;AAEA,MAAO;AAAEC,EAAAA;AAAF,IAAeD,OAAtB;AAGA,eAAe,MAAME,cAAN,CAAqB;AAAA;AAAA,SAChCC,GADgC,GAChB,EADgB;AAAA;;AAGhCC,EAAAA,WAAW,GAAE;AACX,SAAKC,YAAL,CAAkB,KAAKF,GAAvB,EADW,CAEX;AAED;;AAEOG,EAAAA,SAAR,CAAkBC,QAAlB,EAAqC;AACnCC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,MAAT,GAAkB,iBAA9B;;AACA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGJ,QAAQ,CAACG,MAA5B,EAAoCC,CAAC,EAArC,EAAyC;AACvCH,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACI,CAAD,CAAR,CAAYC,SAAZ,GAAwB,KAAxB,GAAgCL,QAAQ,CAACI,CAAD,CAAR,CAAYE,WAAxD;;AACA,WAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGP,QAAQ,CAACI,CAAD,CAAR,CAAYI,YAAZ,CAAyBL,MAA5C,EAAoDI,CAAC,EAArD,EAAyD;AACtD,YAAIE,KAAK,GAAGT,QAAQ,CAACI,CAAD,CAAR,CAAYI,YAAZ,CAAyBD,CAAzB,CAAZ;AACAN,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAUO,KAAV,GAAkB,IAA9B;AACF;AACH;AACD;;AAEOC,EAAAA,OAAR,CAAgBC,KAAhB,EAA6B;AAC3BV,IAAAA,OAAO,CAACC,GAAR,CAAY,8BAA8BS,KAA1C;AACD;;AAED,QAAMb,YAAN,CAAmBE,QAAnB,EAAsC;AAClCN,IAAAA,QAAQ,CAACkB,WAAT,GAAuBC,IAAvB,CAA4BC,OAAO,IAAI;AACvCd,MAAAA,QAAQ,GAAGc,OAAO,CAACd,QAAnB;;AACA,WAAK,MAAMe,OAAX,IAAsBD,OAAO,CAACd,QAA9B,EAAwC;AACpCC,QAAAA,OAAO,CAACC,GAAR,CAAYa,OAAZ;AACH;AACJ,KALG;AAOFd,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACD,GAjC+B,CAoChC;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AAzDgC","sourcesContent":["import { Contact } from \"@capacitor-community/contacts\";\nimport { Plugins } from \"@capacitor/core\";\n\nconst  { Contacts } = Plugins;\n\n\nexport default class ContactTracing {\n    cts:Contact[] = [];\n\n    sendMessage(){\n      this.loadContacts(this.cts);\n      //this.sendSms();\n      \n    }\n\n    private onSuccess(contacts:Contact[]){\n      console.log(contacts.length + ' contacts found');\n      for(var i = 0; i < contacts.length; i++) {\n        console.log(contacts[i].contactId + \" - \" + contacts[i].displayName);\n        for(var j = 0; j < contacts[i].phoneNumbers.length; j++) {\n           var phone = contacts[i].phoneNumbers[j];\n           console.log(\"===> \" + phone + \"\\n\");\n        }\n     }\n    }\n\n    private onError(error:string){\n      console.log(\"Error grabbing contacts! \" + error);\n    }\n  \n    async loadContacts(contacts:Contact[]){\n        Contacts.getContacts().then(results => {\n        contacts = results.contacts;\n        for (const contact of results.contacts) {\n            console.log(contact);\n        }\n    });\n  \n      console.log(\"Contacts Loaded! \\n\");\n    }\n  \n   \n    // sendSms(){\n     \n    //   var message:String = \"\";\n  \n    //   message += \"------------------------------\\nIF EXPERIENCING SEEK IMMEDIATE MEDICAL ATTENTION!\\n\";\n    //   for(var index in emergencyList){\n    //     if(emergencyList[index].isChecked){\n    //       message += emergencyList[index].val + \"\\n\";\n    //     }\n    //   }\n  \n    //   message += \"------------------------------\\nNon-Emergency Symptoms:\\n\";\n    //   for(var index in symptomList){\n    //     if(symptomList[index].isChecked){\n    //       message += symptomList[index].val + \"\\n\";\n    //     }\n    //   }\n  \n    //   alert(\"Symptoms List \\n\" + message);\n    //   SMS.send('5167120628', \"test sms\");\n    //   alert(\"sendSms was called!\");\n    // }\n\n  \n  }"]},"metadata":{},"sourceType":"module"}