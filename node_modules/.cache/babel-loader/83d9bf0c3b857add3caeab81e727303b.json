{"ast":null,"code":"var _jsxFileName = \"/Users/shawnyang/Desktop/UCLA/CS130/proj/project/cs130/src/pages/CreateUser.tsx\";\nimport React from 'react';\nimport { IonContent, IonHeader, IonPage, IonTitle, IonToolbar, IonButton, IonInput } from '@ionic/react';\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from 'react-router-dom';\nimport firebase from '../Firebase';\nvar validPass = false;\n\nconst CreateUser = () => {\n  const history = useHistory();\n  const {\n    register,\n    handleSubmit\n  } = useForm();\n\n  const goNext = () => {\n    history.push('/Tab1');\n  };\n\n  const goBack = () => {\n    history.push('/OnOpen');\n  };\n\n  function checkPass(p1, p2) {\n    if (p1 == p2 && p1.length >= 6) {\n      validPass = true;\n    }\n  }\n\n  const onSubmit = data => {\n    checkPass(data.pass1, data.pass2);\n\n    if (validPass) {\n      firebase.auth().createUserWithEmailAndPassword(data.email, data.pass1).then(ref => {\n        firebase.firestore().collection('users').doc(ref.user.uid).set({\n          'email': data.email,\n          'userID': ref.user.uid\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n      goNext();\n    } else {\n      console.log('Passwords do not match');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(IonPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonToolbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IonTitle, {\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, \"Create User\"))), /*#__PURE__*/React.createElement(IonContent, {\n    className: \"page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, \"Email:\"), /*#__PURE__*/React.createElement(IonInput, {\n    required: true,\n    type: \"email\",\n    id: \"email\",\n    name: \"email\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Password: (minimum of 6 characters)\"), /*#__PURE__*/React.createElement(IonInput, {\n    required: true,\n    type: \"password\",\n    id: \"pass1\",\n    name: \"pass1\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, \"Re-enter password:\"), /*#__PURE__*/React.createElement(IonInput, {\n    required: true,\n    type: \"password\",\n    id: \"pass2\",\n    name: \"pass2\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(IonButton, {\n    \"justify-content\": \"center\",\n    color: \"black\",\n    size: \"large\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"Create Account\"), /*#__PURE__*/React.createElement(IonButton, {\n    color: \"black\",\n    size: \"large\",\n    onClick: goBack,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, \"Back\"))));\n};\n\nexport default CreateUser;","map":{"version":3,"sources":["/Users/shawnyang/Desktop/UCLA/CS130/proj/project/cs130/src/pages/CreateUser.tsx"],"names":["React","IonContent","IonHeader","IonPage","IonTitle","IonToolbar","IonButton","IonInput","useForm","useHistory","firebase","validPass","CreateUser","history","register","handleSubmit","goNext","push","goBack","checkPass","p1","p2","length","onSubmit","data","pass1","pass2","auth","createUserWithEmailAndPassword","email","then","ref","firestore","collection","doc","user","uid","set","catch","error","console","log"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { IonContent, \n  IonHeader, \n  IonPage, \n  IonTitle, \n  IonToolbar, \n  IonButton, \n  IonInput,\n  useIonViewWillEnter,\n  IonSelect,\n  IonSelectOption } from '@ionic/react';\nimport ExploreContainer from '../components/ExploreContainer';\nimport { useForm } from \"react-hook-form\"\nimport {useHistory} from 'react-router-dom'\nimport firebase from '../Firebase'\n\ntype AccountCreation = {\n  email: string;\n  pass1: string;\n  pass2: string;\n}\n\nvar validPass = false;\n\nconst CreateUser: React.FC = () => {\n  const history = useHistory()\n  const {register, handleSubmit} = useForm<any>();\n  const goNext = () => {\n    history.push('/Tab1')\n  };\n\n  const goBack = () =>{\n    history.push('/OnOpen')\n  }\n\n  function checkPass(p1: string, p2: string){\n    if (p1 == p2 && p1.length >= 6){\n      validPass = true\n    }\n  }\n\n  const onSubmit = (data: AccountCreation) => {\n    checkPass(data.pass1, data.pass2)\n    if (validPass){\n      firebase.auth().createUserWithEmailAndPassword(data.email, data.pass1).then((ref: any)=>{\n        firebase.firestore().collection('users').doc(ref.user.uid).set({'email': data.email, 'userID': ref.user.uid})\n      }).catch((error)=>{\n        console.log(error)\n      })\n      goNext()\n    } else {\n      console.log('Passwords do not match')\n    }\n  };\n\n  return (\n    <IonPage>\n    <IonHeader>\n    <IonToolbar>\n          <IonTitle size=\"large\">Create User</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent className=\"page\">\n        <form onSubmit = {handleSubmit(onSubmit)}>\n          <label>Email:</label>\n            <IonInput\n              required={true}\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              ref={register}\n            />\n          <label>Password: (minimum of 6 characters)</label>\n            <IonInput\n              required={true}\n              type=\"password\"\n              id=\"pass1\"\n              name=\"pass1\"\n              ref={register}\n            />\n          <label>Re-enter password:</label>\n            <IonInput\n              required={true}\n              type=\"password\"\n              id=\"pass2\"\n              name=\"pass2\"\n              ref={register}\n            />\n          <IonButton justify-content='center' color=\"black\" size='large' type=\"submit\">Create Account</IonButton>\n          <IonButton color=\"black\" size=\"large\" onClick={goBack}>Back</IonButton>\n          </form>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default CreateUser;"]},"metadata":{},"sourceType":"module"}